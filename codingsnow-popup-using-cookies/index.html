<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Screen For a Website Using Cookies | With Blur Background - HTML, CSS & Javascript</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

    <div class="popup-screen">
        <div class="popup-box">
            <i class="fas fa-times close-btn"></i>
            <h2>Popup Box</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore est repudiandae fuga dolores minus debitis soluta veritatis dicta vero numquam? Dolorum neque ut aspernatur officiis eligendi iusto veniam! Dolorem, nihil.</p>
            <a href="#" class="btn">Subscribe</a>
        </div>
    </div>

    <section class="home">
        <div class="image">
            <img src="img.jpg" alt="">
        </div>
        <div class="info">
            <h2>Popup Screen With Cookies</h2>
            <p> 
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae eaque non accusantium dolor omnis, quam consectetur debitis asperiores odio repudiandae porro? Saepe aperiam placeat sapiente sit fuga necessitatibus voluptatum eligendi?
            </p>
            <p> 
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae eaque non accusantium dolor omnis, quam consectetur debitis asperiores odio repudiandae porro? Saepe aperiam placeat sapiente sit fuga necessitatibus voluptatum eligendi?
            </p>
        </div>
    </section>

    <script>
        const popupScreen = document.querySelector('.popup-screen');
        const popupBox = document.querySelector('.popup-box');
        const closeBtn = document.querySelector('.close-btn');

        window.addEventListener("load", () => {
            setTimeout(() => {
                popupScreen.classList.add("active");
            }, 2000); //Popup the screen in 02 seconds after the page is loaded.
        });

        closeBtn.addEventListener('click', ()=>{
            popupScreen.classList.remove('active');

            // to expire within a day, on click the close button
            document.cookie = 'WebsiteName=testWebsite; max-age=' + 24 * 60 * 60;
            // 1 day = 24 hours = 24 * 60 * 60
        });

        // use the created cookie to hide or show the popup screen
        const WebsiteCookie = document.cookie.indexOf('WebsiteName=');

        if(WebsiteCookie != -1){
            popupScreen.style.display = 'none';
            // hide the popup screen if the cookie is not expired
        } 
        else {
            popupScreen.style.display = 'flex';
            // show the popup screen if the cookie is not expired
        }
    </script>

</body>
</html>